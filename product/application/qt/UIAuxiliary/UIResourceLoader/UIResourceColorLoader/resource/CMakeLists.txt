include(TemplateTools)
# 设置资源字符串 JSON 文件路径
set(RESOURCE_IDE_FOLDER commonhead/codegen)
set(RESOURCE_OUT_PUT_FILE UIColorToken.h)
set(RESOURCE_OUT_PUT_DIR ${UCF_CODE_GENERATOR_DIR}/UIColorToken)
set(RESOURCE_OUTPUT_PATH ${RESOURCE_OUT_PUT_DIR}/${RESOURCE_OUT_PUT_FILE})
set(RESOURCE_TEMEPLATE_FILE ${CMAKE_CURRENT_SOURCE_DIR}/templates/UIColorToken.h.j2)

generate_from_template(
    TEMPLATE_FILE ${RESOURCE_TEMEPLATE_FILE}
    INPUT_FILE ${COLOR_TOKEN_JSON_PATH}
    OUTPUT_FILE ${RESOURCE_OUTPUT_PATH}
    GFT_TARGET
)

include(BuildInterface)
if (WIN32)
    set(ADD_DEFINITIONS UIResourceLoader_DLL) #UIDataStruct_DLL UIDataStruct_LIB
else()
    set(ADD_DEFINITIONS)
endif()
BuildInterface(
    MODULE_NAME 
        UIColorToken
    TARGET_SOURCE_HEADER_BASE_DIR
        ${RESOURCE_OUT_PUT_DIR}
    TARGET_SOURCE_PUBLIC_HEADER
        ${RESOURCE_OUTPUT_PATH}
    TARGET_INCLUDE_DIRECTORIES_BUILD_INTERFACE
        ${RESOURCE_OUT_PUT_DIR}
    TARGET_INCLUDE_DIRECTORIES_INSTALL_INTERFACE
        UIColorToken
    IDE_FOLDER
        ${RESOURCE_IDE_FOLDER}
    TARGET_DEFINITIONS
        ${ADD_DEFINITIONS}
)
add_dependencies(UIColorToken ${GFT_TARGET})

